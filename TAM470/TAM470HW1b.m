syms x;
Years = 1998:1:2008;
Tuition_per_year = [21300;23057;24441;25917;27024;28564;29847;31200;32994;34800;36030];
y0 = 21300;
y1 = 23057; 
y2 = 24441; 
y3 = 25917; 
y4 = 27204; 
y5 = 28564; 
y6 = 29847; 
y7 = 31200;
y8 = 32994; 
y9 = 34800; 
y10 = 36030;
x_0 = 1998;
x_1 = 1999;
x_2 = 2000;
x_3 = 2001;
x_4 = 2002;
x_5 = 2003;
x_6 = 2004;
x_7 = 2005;
x_8 = 2006;
x_9 = 2007;
x_10 = 2008;
L_0 = ((x-x_1)*(x-x_2)*(x-x_3)*(x-x_4)*(x-x_5)*(x-x_6)*(x-x_7)*(x-x_8)*(x-x_9)*(x-x_10))/((x_0-x_1)*(x_0-x_2)*(x_0-x_3)*(x_0-x_4)*(x_0-x_5)*(x_0-x_6)*(x_0-x_7)*(x_0-x_8)*(x_0-x_9)*(x_0-x_10));
L_1 = ((x-x_0)*(x-x_2)*(x-x_3)*(x-x_4)*(x-x_5)*(x-x_6)*(x-x_7)*(x-x_8)*(x-x_9)*(x-x_10))/((x_1-x_0)*(x_1-x_2)*(x_1-x_3)*(x_1-x_4)*(x_1-x_5)*(x_1-x_6)*(x_1-x_7)*(x_1-x_8)*(x_1-x_9)*(x_1-x_10));
L_2 = ((x-x_0)*(x-x_1)*(x-x_3)*(x-x_4)*(x-x_5)*(x-x_6)*(x-x_7)*(x-x_8)*(x-x_9)*(x-x_10))/((x_2-x_0)*(x_2-x_1)*(x_2-x_3)*(x_2-x_4)*(x_2-x_5)*(x_2-x_6)*(x_2-x_7)*(x_2-x_8)*(x_2-x_9)*(x_2-x_10));
L_3 = ((x-x_0)*(x-x_1)*(x-x_2)*(x-x_4)*(x-x_5)*(x-x_6)*(x-x_7)*(x-x_8)*(x-x_9)*(x-x_10))/((x_3-x_0)*(x_3-x_1)*(x_3-x_2)*(x_3-x_4)*(x_3-x_5)*(x_3-x_6)*(x_3-x_7)*(x_3-x_8)*(x_3-x_9)*(x_3-x_10));
L_4 = ((x-x_0)*(x-x_1)*(x-x_2)*(x-x_3)*(x-x_5)*(x-x_6)*(x-x_7)*(x-x_8)*(x-x_9)*(x-x_10))/((x_4-x_0)*(x_4-x_1)*(x_4-x_2)*(x_4-x_3)*(x_4-x_5)*(x_4-x_6)*(x_4-x_7)*(x_4-x_8)*(x_4-x_9)*(x_4-x_10));
L_5 = ((x-x_0)*(x-x_1)*(x-x_2)*(x-x_3)*(x-x_4)*(x-x_6)*(x-x_7)*(x-x_8)*(x-x_9)*(x-x_10))/((x_5-x_0)*(x_5-x_1)*(x_5-x_2)*(x_5-x_3)*(x_5-x_4)*(x_5-x_6)*(x_5-x_7)*(x_5-x_8)*(x_5-x_9)*(x_5-x_10));
L_6 = ((x-x_0)*(x-x_1)*(x-x_2)*(x-x_3)*(x-x_4)*(x-x_5)*(x-x_7)*(x-x_8)*(x-x_9)*(x-x_10))/((x_6-x_0)*(x_6-x_1)*(x_6-x_2)*(x_6-x_3)*(x_6-x_4)*(x_6-x_5)*(x_6-x_7)*(x_6-x_8)*(x_6-x_9)*(x_6-x_10));
L_7 = ((x-x_0)*(x-x_1)*(x-x_2)*(x-x_3)*(x-x_4)*(x-x_5)*(x-x_6)*(x-x_8)*(x-x_9)*(x-x_10))/((x_7-x_0)*(x_7-x_1)*(x_7-x_2)*(x_7-x_3)*(x_7-x_4)*(x_7-x_5)*(x_7-x_6)*(x_7-x_8)*(x_7-x_9)*(x_7-x_10));
L_8 = ((x-x_0)*(x-x_1)*(x-x_2)*(x-x_3)*(x-x_4)*(x-x_5)*(x-x_6)*(x-x_7)*(x-x_9)*(x-x_10))/((x_8-x_0)*(x_8-x_1)*(x_8-x_2)*(x_8-x_3)*(x_8-x_4)*(x_8-x_5)*(x_8-x_6)*(x_8-x_7)*(x_8-x_9)*(x_8-x_10));
L_9 = ((x-x_0)*(x-x_1)*(x-x_2)*(x-x_3)*(x-x_4)*(x-x_5)*(x-x_6)*(x-x_7)*(x-x_8)*(x-x_10))/((x_9-x_0)*(x_9-x_1)*(x_9-x_2)*(x_9-x_3)*(x_9-x_4)*(x_9-x_5)*(x_9-x_6)*(x_9-x_7)*(x_9-x_8)*(x_9-x_10));
L_10 = ((x-x_0)*(x-x_1)*(x-x_2)*(x-x_3)*(x-x_4)*(x-x_5)*(x-x_6)*(x-x_7)*(x-x_8)*(x-x_9))/((x_10-x_0)*(x_10-x_1)*(x_10-x_2)*(x_10-x_3)*(x_10-x_4)*(x_10-x_5)*(x_10-x_6)*(x_10-x_7)*(x_10-x_8)*(x_10-x_9));
P_x = (y0*L_0)+(y1*L_1)+(y2*L_2)+(y3*L_3)+(y4*L_4)+(y5*L_5)+(y6*L_6)+(y7*L_7)+(y8*L_8)+(y9*L_9)+(y10*L_10);
%s = subs(P_x,2010);
b_x = matlabFunction(P_x);
a_x = vpa(simplify(P_x),5);
ezplot(b_x,[1996:2011]) 
hold on
scatter(Years,Tuition_per_year,20,'r','x')
scatter(2010,b_x(2010),20,'r','x')
title('Tuition at St. Anford University')
legend('Polynomial','Hard Data','Location','Northwest')
xlabel('Years')
ylabel('Tuition per Year')
ylim([0,37000])
set(gca, 'YTicklabel', get(gca, 'YTick'));